package Tetris.Game {	import flash.events.*;	import Tetris.Game.Blocks.*;	import Tetris.Game.Blocks;		public class UI {		private static var score = new Object();		private static var nextBlock = new Object();		private static var TextScore;		private static var TextLines;		private static var NextBlockArea;		private static var stage;				/** 		 * Initialize the game UI		 */		public static function initialize(stage, TextScore, TextLines, NextBlockArea) {			// Store references			UI.stage = stage;			UI.TextScore = TextScore;			UI.TextLines = TextLines;			UI.NextBlockArea = NextBlockArea;						// Reset score			UI.TextScore.text = "0";			UI.TextLines.text = "0";			UI.score.lines = 0;			UI.score.score = 0;						// Reset "next block"			UI.nextBlock.color = '';			UI.nextBlock.formation = new Array();						// Test block in next block area			var block = new BlockBlue();						UI.NextBlockArea.addChild(block);						block.x = 0;			block.y = 0;			block.width = block.width / 2;			block.height = block.height / 2;					}		/**		 * Update the stats (score/lines)		 * @param String key		 * @param Number amount		 */		public static function updateStats(key, amount = 1) {			UI.score[key] += amount;						UI.TextScore.text = UI.score.score;			UI.TextLines.text = UI.score.lines;		}		/**		 * Make the player lose		 */		public static function lose() {			trace('Player lost');						var framerate = UI.stage.frameRate;						UI.stage.frameRate = 0;			stage.addEventListener(MouseEvent.CLICK, function(e) {				// Reset game				UI.score.lines = 0;				UI.score.score = 0;				UI.nextBlock.color = '';				UI.nextBlock.coordinates = new Array();								Blocks.reset();								UI.stage.frameRate = framerate;   			});		}		/**		 * Update the next block viewer		 * @param String color		 * @param Array formation		 */		public static function setNextBlock(color, formation) {			UI.nextBlock.color = color;			UI.nextBlock.coordinates = formation;		}	}}